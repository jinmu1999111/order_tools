{% extends 'layout.html' %}

{% block title %}ç®¡ç†ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹{% endblock %}

{% block content %}
<div class="container mx-auto p-4">
    <h1 class="text-3xl font-bold text-gray-800 mb-6">ğŸ“š ç®¡ç†ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹</h1>

    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
        <h2 class="text-xl font-semibold text-gray-700 mb-4">ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦</h2>
        <p class="text-gray-600 mb-4">
            ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ã€é£²é£Ÿåº—å‘ã‘ã®æ³¨æ–‡ç®¡ç†ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ãŸã‚ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚ãŠå®¢æ§˜ã¯QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–²è¦§ãƒ»æ³¨æ–‡ã—ã€ã‚­ãƒƒãƒãƒ³ã‚¹ã‚¿ãƒƒãƒ•ã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æ³¨æ–‡çŠ¶æ³ã‚’ç®¡ç†ã§ãã¾ã™ã€‚ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã¯ã€å£²ä¸Šåˆ†æã‚„ãƒ†ãƒ¼ãƒ–ãƒ«ç¨¼åƒçŠ¶æ³ã®æŠŠæ¡ãŒå¯èƒ½ã§ã™ã€‚
        </p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="flex items-center text-gray-700">
                <i class="fas fa-mobile-alt text-primary mr-3 text-xl"></i>
                <span>ãƒ¢ãƒã‚¤ãƒ«ã‹ã‚‰ã®ç°¡å˜æ³¨æ–‡</span>
            </div>
            <div class="flex items-center text-gray-700">
                <i class="fas fa-utensils text-primary mr-3 text-xl"></i>
                <span>ã‚­ãƒƒãƒãƒ³ã§ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç®¡ç†</span>
            </div>
            <div class="flex items-center text-gray-700">
                <i class="fas fa-chart-line text-primary mr-3 text-xl"></i>
                <span>è©³ç´°ãªå£²ä¸Šãƒ»çµ±è¨ˆåˆ†æ</span>
            </div>
            <div class="flex items-center text-gray-700">
                <i class="fas fa-qrcode text-primary mr-3 text-xl"></i>
                <span>QRã‚³ãƒ¼ãƒ‰ã«ã‚ˆã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«èªè¨¼</span>
            </div>
        </div>
    </div>

    <!-- å„æ©Ÿèƒ½ã®ä½¿ç”¨æ–¹æ³• (ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³UI) -->
    <div class="mb-8">
        <h2 class="text-xl font-semibold text-gray-700 mb-4">æ©Ÿèƒ½åˆ¥ã‚¬ã‚¤ãƒ‰</h2>
        <div id="accordion-guide">
            <!-- ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ -->
            <div class="border border-gray-200 rounded-lg mb-2">
                <h3 class="flex items-center justify-between p-4 bg-gray-50 cursor-pointer" data-toggle="collapse" data-target="#collapseDashboard">
                    <span class="font-medium text-gray-800"><i class="fas fa-chart-pie text-secondary mr-2"></i>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</span>
                    <i class="fas fa-chevron-down text-gray-500 transition-transform duration-300"></i>
                </h3>
                <div id="collapseDashboard" class="collapse hidden p-4 text-gray-600">
                    <p class="mb-2"><strong>ç›®çš„:</strong> åº—èˆ—ã®å£²ä¸Šã€æ³¨æ–‡çŠ¶æ³ã€ãƒ†ãƒ¼ãƒ–ãƒ«ç¨¼åƒç‡ãªã©ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æŠŠæ¡ã—ã¾ã™ã€‚</p>
                    <ul class="list-disc list-inside ml-4">
                        <li>ä»Šæ—¥ã®å£²ä¸Šã€æ³¨æ–‡æ•°ã€å¹³å‡å®¢å˜ä¾¡ã‚’ç¢ºèªã§ãã¾ã™ã€‚</li>
                        <li>æ—¥åˆ¥ãƒ»æœˆåˆ¥ã®å£²ä¸Šãƒˆãƒ¬ãƒ³ãƒ‰ã‚’ã‚°ãƒ©ãƒ•ã§è¦–è¦šåŒ–ã—ã¾ã™ã€‚</li>
                        <li>äººæ°—ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã§ã€å£²ã‚Œç­‹å•†å“ã‚’æŠŠæ¡ã§ãã¾ã™ã€‚</li>
                        <li>ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã€Œç©ºãã€ã€Œä½¿ç”¨ä¸­ã€ã€Œæ¸…æƒä¸­ã€ã®çŠ¶æ³ã‚’ä¸€è¦§ã§ãã¾ã™ã€‚</li>
                    </ul>
                </div>
            </div>

            <!-- ã‚­ãƒƒãƒãƒ³ç®¡ç† -->
            <div class="border border-gray-200 rounded-lg mb-2">
                <h3 class="flex items-center justify-between p-4 bg-gray-50 cursor-pointer" data-toggle="collapse" data-target="#collapseKitchen">
                    <span class="font-medium text-gray-800"><i class="fas fa-concierge-bell text-secondary mr-2"></i>ã‚­ãƒƒãƒãƒ³ç®¡ç†</span>
                    <i class="fas fa-chevron-down text-gray-500 transition-transform duration-300"></i>
                </h3>
                <div id="collapseKitchen" class="collapse hidden p-4 text-gray-600">
                    <p class="mb-2"><strong>ç›®çš„:</strong> ãŠå®¢æ§˜ã‹ã‚‰ã®æ³¨æ–‡ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å—ã‘ä»˜ã‘ã€èª¿ç†çŠ¶æ³ã‚’ç®¡ç†ã—ã¾ã™ã€‚</p>
                    <ul class="list-disc list-inside ml-4">
                        <li>æ–°è¦æ³¨æ–‡ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§é€šçŸ¥ã•ã‚Œã¾ã™ã€‚</li>
                        <li>å„æ³¨æ–‡ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆä¿ç•™ä¸­ã€èª¿ç†ä¸­ã€æä¾›æ¸ˆã¿ã€ã‚­ãƒ£ãƒ³ã‚»ãƒ«ï¼‰ã‚’æ›´æ–°ã§ãã¾ã™ã€‚</li>
                        <li>ãƒ†ãƒ¼ãƒ–ãƒ«ã”ã¨ã®æ³¨æ–‡ã‚’ä¸€è¦§ã§ç¢ºèªã§ãã¾ã™ã€‚</li>
                    </ul>
                </div>
            </div>

            <!-- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç®¡ç† -->
            <div class="border border-gray-200 rounded-lg mb-2">
                <h3 class="flex items-center justify-between p-4 bg-gray-50 cursor-pointer" data-toggle="collapse" data-target="#collapseMenu">
                    <span class="font-medium text-gray-800"><i class="fas fa-clipboard-list text-secondary mr-2"></i>ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç®¡ç†</span>
                    <i class="fas fa-chevron-down text-gray-500 transition-transform duration-300"></i>
                </h3>
                <div id="collapseMenu" class="collapse hidden p-4 text-gray-600">
                    <p class="mb-2"><strong>ç›®çš„:</strong> æä¾›ã™ã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ã‚’è¿½åŠ ã€ç·¨é›†ã€å‰Šé™¤ã—ã¾ã™ã€‚</p>
                    <ul class="list-disc list-inside ml-4">
                        <li>ãƒ¡ãƒ‹ãƒ¥ãƒ¼åã€ä¾¡æ ¼ã€ã‚«ãƒ†ã‚´ãƒªã‚’è¨­å®šã§ãã¾ã™ã€‚</li>
                        <li>ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®è¡¨ç¤º/éè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</li>
                        <li>ã‚«ãƒ†ã‚´ãƒªã”ã¨ã«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’æ•´ç†ã§ãã¾ã™ã€‚</li>
                    </ul>
                </div>
            </div>

            <!-- ãƒ†ãƒ¼ãƒ–ãƒ«ç®¡ç† -->
            <div class="border border-gray-200 rounded-lg mb-2">
                <h3 class="flex items-center justify-between p-4 bg-gray-50 cursor-pointer" data-toggle="collapse" data-target="#collapseTables">
                    <span class="font-medium text-gray-800"><i class="fas fa-chair text-secondary mr-2"></i>ãƒ†ãƒ¼ãƒ–ãƒ«ç®¡ç†</span>
                    <i class="fas fa-chevron-down text-gray-500 transition-transform duration-300"></i>
                </h3>
                <div id="collapseTables" class="collapse hidden p-4 text-gray-600">
                    <p class="mb-2"><strong>ç›®çš„:</strong> åº—èˆ—ã®ãƒ†ãƒ¼ãƒ–ãƒ«æƒ…å ±ã‚’ç®¡ç†ã—ã€QRã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚</p>
                    <ul class="list-disc list-inside ml-4">
                        <li>ãƒ†ãƒ¼ãƒ–ãƒ«ã®è¿½åŠ ã€å‰Šé™¤ã€åº§å¸­æ•°ã®å¤‰æ›´ãŒå¯èƒ½ã§ã™ã€‚</li>
                        <li>å„ãƒ†ãƒ¼ãƒ–ãƒ«ã®QRã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã€å°åˆ·ã§ãã¾ã™ã€‚</li>
                        <li>ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆç©ºãã€ä½¿ç”¨ä¸­ã€æ¸…æƒä¸­ï¼‰ã‚’æ‰‹å‹•ã§æ›´æ–°ã§ãã¾ã™ã€‚</li>
                        <li>ãƒ•ãƒ­ã‚¢ãƒ—ãƒ©ãƒ³ã§ãƒ†ãƒ¼ãƒ–ãƒ«é…ç½®ã‚’è¦–è¦šçš„ã«ç¢ºèªã§ãã¾ã™ã€‚</li>
                    </ul>
                </div>
            </div>

            <!-- æ³¨æ–‡å±¥æ­´ -->
            <div class="border border-gray-200 rounded-lg mb-2">
                <h3 class="flex items-center justify-between p-4 bg-gray-50 cursor-pointer" data-toggle="collapse" data-target="#collapseHistory">
                    <span class="font-medium text-gray-800"><i class="fas fa-history text-secondary mr-2"></i>æ³¨æ–‡å±¥æ­´</span>
                    <i class="fas fa-chevron-down text-gray-500 transition-transform duration-300"></i>
                </h3>
                <div id="collapseHistory" class="collapse hidden p-4 text-gray-600">
                    <p class="mb-2"><strong>ç›®çš„:</strong> éå»ã®æ³¨æ–‡å±¥æ­´ã‚’ç¢ºèªã—ã€å£²ä¸Šåˆ†æã‚’è¡Œã„ã¾ã™ã€‚</p>
                    <ul class="list-disc list-inside ml-4">
                        <li>è©³ç´°ãªæ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½ã§ç‰¹å®šã®æ³¨æ–‡ã‚’ç´ æ—©ãè¦‹ã¤ã‘ã‚‰ã‚Œã¾ã™ã€‚</li>
                        <li>æ³¨æ–‡ãƒ‡ãƒ¼ã‚¿ã‚’CSV/PDFå½¢å¼ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§ãã¾ã™ã€‚</li>
                        <li>å£²ä¸Šåˆ†æãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã§ãã¾ã™ã€‚</li>
                        <li>å¿…è¦ã«å¿œã˜ã¦è¿”é‡‘ãƒ»ã‚­ãƒ£ãƒ³ã‚»ãƒ«å‡¦ç†ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³• -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
        <h2 class="text-xl font-semibold text-gray-700 mb-4">ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•</h2>
        <ul class="list-disc list-inside ml-4 text-gray-600">
            <li class="mb-2"><strong>Q: QRã‚³ãƒ¼ãƒ‰ãŒèª­ã¿å–ã‚Œãªã„ã€‚</strong><br>A: QRã‚³ãƒ¼ãƒ‰ãŒç ´æã—ã¦ã„ãªã„ã‹ã€ç…§æ˜ãŒååˆ†ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚ã¾ãŸã€QRã‚³ãƒ¼ãƒ‰ãŒæœŸé™åˆ‡ã‚Œã§ãªã„ã‹ã€Œãƒ†ãƒ¼ãƒ–ãƒ«ç®¡ç†ã€ç”»é¢ã§ç¢ºèªã—ã€å¿…è¦ã§ã‚ã‚Œã°å†ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚</li>
            <li class="mb-2"><strong>Q: æ³¨æ–‡ãŒã‚­ãƒƒãƒãƒ³ç”»é¢ã«è¡¨ç¤ºã•ã‚Œãªã„ã€‚</strong><br>A: ãŠå®¢æ§˜ãŒæ³¨æ–‡ã‚’ç¢ºå®šã—ãŸã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚ã¾ãŸã€ã‚­ãƒƒãƒãƒ³ç”»é¢ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼è¨­å®šãŒã€Œä¿ç•™ä¸­ã€ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚</li>
            <li class="mb-2"><strong>Q: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®å¤‰æ›´ãŒãŠå®¢æ§˜ã®ç”»é¢ã«åæ˜ ã•ã‚Œãªã„ã€‚</strong><br>A: ãŠå®¢æ§˜ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒåŸå› ã§ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ãŠå®¢æ§˜ã«ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚‚ã‚‰ã†ã‹ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹ã‚ˆã†ã«æ¡ˆå†…ã—ã¦ãã ã•ã„ã€‚</li>
        </ul>
    </div>

    <!-- ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ä¸€è¦§ -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
        <h2 class="text-xl font-semibold text-gray-700 mb-4">ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ (é–‹ç™ºä¸­)</h2>
        <p class="text-gray-600">
            ç¾åœ¨ã€ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼ã¯å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ä»Šå¾Œã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§è¿½åŠ ã•ã‚Œã‚‹äºˆå®šã§ã™ã€‚
        </p>
        <!-- <ul class="list-disc list-inside ml-4 text-gray-600">
            <li><kbd>Ctrl + D</kbd>: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¸ç§»å‹•</li>
            <li><kbd>Ctrl + K</kbd>: ã‚­ãƒƒãƒãƒ³ç®¡ç†ã¸ç§»å‹•</li>
            <li><kbd>Ctrl + M</kbd>: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç®¡ç†ã¸ç§»å‹•</li>
            <li><kbd>Ctrl + T</kbd>: ãƒ†ãƒ¼ãƒ–ãƒ«ç®¡ç†ã¸ç§»å‹•</li>
            <li><kbd>Ctrl + H</kbd>: æ³¨æ–‡å±¥æ­´ã¸ç§»å‹•</li>
        </ul> -->
    </div>

    <!-- æ¤œç´¢æ©Ÿèƒ½ (ãƒ€ãƒŸãƒ¼) -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
        <h2 class="text-xl font-semibold text-gray-700 mb-4">ã‚¬ã‚¤ãƒ‰å†…æ¤œç´¢</h2>
        <div class="relative">
            <input type="text" id="guide-search" placeholder="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦æ¤œç´¢..." class="w-full p-3 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
            <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
        </div>
        <div id="search-results" class="mt-4 text-gray-700">
            <!-- æ¤œç´¢çµæœã¯JSã§å‹•çš„ã«è¡¨ç¤º -->
        </div>
    </div>

    <!-- ãƒ—ãƒªãƒ³ãƒˆå¯¾å¿œCSSã®æ¡ˆå†… -->
    <div class="bg-white rounded-lg shadow-md p-6">
        <h2 class="text-xl font-semibold text-gray-700 mb-4">å°åˆ·å¯¾å¿œ</h2>
        <p class="text-gray-600 mb-4">
            ã“ã®ãƒšãƒ¼ã‚¸ã¯å°åˆ·ã«é©ã—ãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®å°åˆ·æ©Ÿèƒ½ï¼ˆ<kbd>Ctrl + P</kbd> ã¾ãŸã¯ <kbd>Cmd + P</kbd>ï¼‰ã‚’ã”åˆ©ç”¨ãã ã•ã„ã€‚
        </p>
        <button onclick="window.print()" class="bg-primary text-white px-6 py-3 rounded-md hover:bg-primary-dark transition duration-300 flex items-center">
            <i class="fas fa-print mr-2"></i> ã“ã®ãƒšãƒ¼ã‚¸ã‚’å°åˆ·
        </button>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³æ©Ÿèƒ½
        document.querySelectorAll('[data-toggle="collapse"]').forEach(button => {
            button.addEventListener('click', function() {
                const targetId = this.dataset.target;
                const targetElement = document.querySelector(targetId);
                const icon = this.querySelector('i.fa-chevron-down');

                if (targetElement.classList.contains('hidden')) {
                    targetElement.classList.remove('hidden');
                    targetElement.classList.add('animate-slide-down'); // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ 
                    icon.classList.add('rotate-180');
                } else {
                    targetElement.classList.remove('animate-slide-down'); // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
                    targetElement.classList.add('animate-slide-up'); // é€†ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ 
                    icon.classList.remove('rotate-180');
                    // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Œäº†å¾Œã«hiddenã‚’è¿½åŠ 
                    targetElement.addEventListener('animationend', function handler() {
                        targetElement.classList.add('hidden');
                        targetElement.classList.remove('animate-slide-up');
                        targetElement.removeEventListener('animationend', handler);
                    }, { once: true });
                }
            });
        });

        // æ¤œç´¢æ©Ÿèƒ½ (ç°¡æ˜“çš„ãªã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰æ¤œç´¢)
        const searchInput = document.getElementById('guide-search');
        const searchResultsDiv = document.getElementById('search-results');
        const guideSections = document.querySelectorAll('#accordion-guide .collapse, .bg-white h2, .bg-white p, .bg-white li');

        searchInput.addEventListener('input', function() {
            const query = this.value.toLowerCase();
            searchResultsDiv.innerHTML = ''; // Clear previous results

            if (query.length < 2) {
                searchResultsDiv.textContent = '2æ–‡å­—ä»¥ä¸Šå…¥åŠ›ã—ã¦ãã ã•ã„ã€‚';
                return;
            }

            let resultsFound = false;
            guideSections.forEach(section => {
                const text = section.textContent.toLowerCase();
                if (text.includes(query)) {
                    const resultItem = document.createElement('div');
                    resultItem.className = 'p-2 border-b border-gray-100 last:border-b-0';
                    let previewText = section.textContent.substring(0, 150); // å†’é ­150æ–‡å­—
                    // ãƒãƒƒãƒã—ãŸéƒ¨åˆ†ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ
                    const regex = new RegExp(query, 'gi');
                    previewText = previewText.replace(regex, match => `<span class="bg-yellow-200">${match}</span>`);

                    resultItem.innerHTML = `<p class="font-semibold text-primary">${section.previousElementSibling ? section.previousElementSibling.querySelector('span').textContent : section.textContent.substring(0, 30)}...</p><p class="text-sm">${previewText}...</p>`;
                    searchResultsDiv.appendChild(resultItem);
                    resultsFound = true;
                }
            });

            if (!resultsFound) {
                searchResultsDiv.textContent = 'è©²å½“ã™ã‚‹æƒ…å ±ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚';
            }
        });
    });
</script>

<style>
    /* ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³é–‹é–‰ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
    @keyframes slideDown {
        from { max-height: 0; opacity: 0; }
        to { max-height: 500px; opacity: 1; } /* é©åˆ‡ãªæœ€å¤§é«˜ã•ã‚’è¨­å®š */
    }
    @keyframes slideUp {
        from { max-height: 500px; opacity: 1; }
        to { max-height: 0; opacity: 0; }
    }
    .animate-slide-down {
        animation: slideDown 0.3s ease-out forwards;
        overflow: hidden;
    }
    .animate-slide-up {
        animation: slideUp 0.3s ease-out forwards;
        overflow: hidden;
    }
    .collapse {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
        opacity: 0;
    }
    .collapse.hidden {
        display: none; /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¾Œå®Œå…¨ã«éè¡¨ç¤ºã«ã™ã‚‹ */
    }
    .collapse:not(.hidden) {
        max-height: 500px; /* é©åˆ‡ãªæœ€å¤§é«˜ã•ã‚’è¨­å®š */
        opacity: 1;
    }
    .fa-chevron-down {
        transition: transform 0.3s ease;
    }
    .fa-chevron-down.rotate-180 {
        transform: rotate(180deg);
    }

    /* å°åˆ·ç”¨CSS */
    @media print {
        body {
            font-family: 'Inter', sans-serif;
            color: #000;
            background-color: #fff;
        }
        .container {
            width: 100%;
            padding: 0;
            margin: 0;
        }
        nav, footer, .mb-8:last-of-type, button, input {
            display: none !important; /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ•ãƒƒã‚¿ãƒ¼ã€ãƒœã‚¿ãƒ³ã€æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ãªã©ã‚’éè¡¨ç¤º */
        }
        h1, h2, h3 {
            color: #000 !important;
        }
        .bg-white, .bg-gray-50 {
            box-shadow: none !important;
            border: none !important;
            background-color: #fff !important;
        }
        .text-primary, .text-secondary, .text-green-500, .text-red-500, .text-blue-500 {
            color: #000 !important; /* è‰²ã‚’é»’ã«çµ±ä¸€ */
        }
        .collapse {
            display: block !important; /* å…¨ã¦ã®ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¡¨ç¤º */
            max-height: none !important;
            opacity: 1 !important;
            overflow: visible !important;
        }
        .fa-chevron-down {
            display: none !important; /* ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ã®çŸ¢å°ã‚’éè¡¨ç¤º */
        }
        ul.list-disc {
            list-style-type: disc !important;
            margin-left: 1.5em !important;
        }
    }
</style>
{% endblock %}
